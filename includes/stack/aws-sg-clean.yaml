doctype: firewall
impl: c2aws.ec2.SecurityGroup
contents:
  name: Security Group
  description: Provides a network firewall within an Amazon EC2 region
input:
  region_name: aws/region_name
  sg_name: "%(service/abbreviation)s-%(service/short_id)s"
  sg_description: "%(service/abbreviation)s ingress"
components:
  rules:
    - doctype: firewall_rule
      impl: c2aws.ec2.SecurityGroupRule
      contents:
        ip_protocol: tcp
    - doctype: firewall_rule
      impl: c2aws.ec2.SecurityGroupRule
    - doctype: firewall_rule
      impl: c2aws.ec2.SecurityGroupRule
      contents:
        src_security_group_owner_id: amazon-elb
        src_security_group_name: amazon-elb-sg
