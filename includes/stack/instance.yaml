include: [ base, aws, network, server ]
config:
  network/access_port: 22
tiers:
  - name: Service
    description: Provides network accessible services
    include: [ ]
    components:
      - name: Instance
        include: [ aws, server ]
        description: EC2 instance that runs the service service
        type: aws-instance
        output:
          network/access_host: public_dns_name
          network/admin_host: public_dns_name
    monitor:
      protocol: tcp
      port: "%(network/access_port)s"
